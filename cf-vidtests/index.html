<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CF Video Experiments | drfunn.com</title>
    <link rel="icon" type="image/png" href="/common/drfunn-favicon.png">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="vid-experiment-wrapper">
        <h1>Cloudflare Video Stream Tests</h1>
        
        <div class="video-grid">
            <!-- Portrait Video -->
            <div class="video-thumbnail portrait" data-video-id="5285fad16bd0abd54d4bdcda3be8d28a" data-aspect="portrait">
                <img src="https://customer-dk6q4c314h6xd6jo.cloudflarestream.com/5285fad16bd0abd54d4bdcda3be8d28a/thumbnails/thumbnail.jpg?time=2s" alt="Portrait video thumbnail">
                <div class="play-overlay">▶</div>
                <div class="thumbnail-caption">Portrait Video</div>
            </div>
            
            <!-- Landscape Video -->
            <div class="video-thumbnail landscape" data-video-id="74ffd0754447e8f433292752c38af4eb" data-aspect="landscape">
                <img src="https://customer-dk6q4c314h6xd6jo.cloudflarestream.com/74ffd0754447e8f433292752c38af4eb/thumbnails/thumbnail.jpg?time=7m22s" alt="Landscape video thumbnail">
                <div class="play-overlay">▶</div>
                <div class="thumbnail-caption">Landscape Video</div>
            </div>
			
			<!-- Square Video -->
            <div class="video-thumbnail square" data-video-id="43637c05e9e4bab0bad7a89348a8f96a" data-aspect="square">
                <img src="https://customer-dk6q4c314h6xd6jo.cloudflarestream.com/43637c05e9e4bab0bad7a89348a8f96a/thumbnails/thumbnail.jpg?time=1s" alt="Square video thumbnail">
                <div class="play-overlay">▶</div>
                <div class="thumbnail-caption">Square Video</div>
            </div>
			
        </div>
    </div>
    
    <!-- Fullscreen Video Modal -->
    <div id="video-modal" class="video-modal">
        <button class="close-modal">&times;</button>
        <div class="modal-content">
            <div id="video-container"></div>
        </div>
    </div>
    
    <script defer src="https://embed.cloudflarestream.com/embed/sdk.latest.js"></script>
    <script>
        const thumbnails = document.querySelectorAll('.video-thumbnail');
        const modal = document.getElementById('video-modal');
        const closeBtn = document.querySelector('.close-modal');
        const videoContainer = document.getElementById('video-container');
        
        thumbnails.forEach(thumb => {
            thumb.addEventListener('click', () => {
                const videoId = thumb.dataset.videoId;
                const aspect = thumb.dataset.aspect;
                
                // Add aspect class to container
                videoContainer.className = aspect;
                
                // Create iframe
                const iframe = document.createElement('iframe');
                iframe.src = `https://customer-dk6q4c314h6xd6jo.cloudflarestream.com/${videoId}/iframe?autoplay=true`;
                iframe.allow = 'accelerometer; gyroscope; autoplay; encrypted-media; picture-in-picture';
                iframe.allowFullscreen = true;
                
                videoContainer.innerHTML = '';
                videoContainer.appendChild(iframe);
                modal.classList.add('active');
                document.body.style.overflow = 'hidden';
            });
        });
        
        function closeModal() {
            modal.classList.remove('active');
            videoContainer.innerHTML = '';
            document.body.style.overflow = '';
        }
        
        closeBtn.addEventListener('click', closeModal);
        
        modal.addEventListener('click', (e) => {
            if (e.target === modal) closeModal();
        });
        
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Escape' && modal.classList.contains('active')) {
                closeModal();
            }
        });
    </script>
</body>
</html>
